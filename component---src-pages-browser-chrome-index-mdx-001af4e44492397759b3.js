(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{HchU:function(e,t,b){"use strict";b.r(t),b.d(t,"_frontmatter",(function(){return r})),b.d(t,"default",(function(){return j}));var n=b("shca"),c=(b("xwgP"),b("N0F1")),l=b("Hv6d"),u=b("JLKy"),r={},o={_frontmatter:r},a=l.default;function j(e){var t=e.components,b=Object(n.a)(e,["components"]);return Object(c.b)(a,Object.assign({},o,b,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",null,"单进程架构"),Object(c.b)(u.a,{mdxType:"P"},"单进程浏览器是指浏览器的所有功能模块都是运行在同一个进程里。",Object(c.b)("br",null),"这些模块包含了网络、插件、JavaScript 运行环境、渲染引擎和页面等。",Object(c.b)("br",null),"实际上,单进程架构会有很多问题。"),Object(c.b)("h3",null,"不稳定"),Object(c.b)(u.a,{style:{background:"lightblue"},mdxType:"P"},"早期浏览器需要借助于插件来实现诸如 Web 视频、Web 游戏等各种强大的功能。",Object(c.b)("br",null),"但是插件是最容易出问题的模块,并且还运行在浏览器进程之中。",Object(c.b)("br",null),"所以一个插件的意外崩溃会引起整个浏览器的崩溃。"),Object(c.b)("h3",null,"不流畅"),Object(c.b)(u.a,{style:{background:"lightblue"},mdxType:"P"},Object(c.b)("p",null,"同一时刻只能有一个模块可以执行,错误代码导致的死循环,内存泄漏会让浏览器变得卡顿。")),Object(c.b)("h3",null,"不安全"),Object(c.b)(u.a,{style:{background:"lightblue"},mdxType:"P"},Object(c.b)("p",null,"插件可以使用 C/C++ 等代码编写,通过插件可以获取到操作系统的任意资源。\n当你在页面运行一个插件时也就意味着这个插件能完全操作你的电脑。\n如果是个恶意插件,那么它就可以释放病毒、窃取你的账号密码,引发安全性问题。")),Object(c.b)("h2",null,"多进程架构"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"chrome通过一次单进程到多进程的架构升级,解决了单进程暴露出来的问题。")),Object(c.b)("h3",null,"解决不稳定问题"),Object(c.b)(u.a,{style:{background:"#4AC29A"},mdxType:"P"},"由于进程是相互隔离的,所以当一个页面或者插件崩溃时, 影响到的仅仅是当前的页面进程或者插件进程,并不会影响到浏览器和其他页面。"),Object(c.b)("h3",null,"解决不流畅问题"),Object(c.b)(u.a,{style:{background:"#4AC29A"},mdxType:"P"},"js运行在渲染进程中,即使js阻塞了渲染进程,影响到的也只是当前的渲染页面,而并不会影响浏览器和其他页面,因为其他页面的脚本是运行在它们自己的渲染进程中的。 当我们再在 Chrome 中运行某个死循环的脚本时,没有响应的仅仅是当前的页面。"),Object(c.b)("h3",null,"解决不安全问题"),Object(c.b)(u.a,{style:{background:"#4AC29A"},mdxType:"P"},"采用多进程架构的额外好处是可以使用安全沙箱,你可以把沙箱看成是操作系统给进程上了一把锁。 沙箱里面的程序可以运行,但是不能在你的硬盘上写入任何数据,也不能在敏感位置读取任何数据,例如你的文档和桌面。 Chrome 把插件进程和渲染进程锁在沙箱里面, 这样即使在渲染进程或者插件进程里面执行了恶意程序,恶意程序也无法突破沙箱去获取系统权限。"),Object(c.b)("h3",null,"推荐阅读"),Object(c.b)("p",null,Object(c.b)("a",Object.assign({parentName:"p"},{href:"https://time.geekbang.org/column/intro/216"}),"https://time.geekbang.org/column/intro/216")))}j.isMDXComponent=!0},shca:function(e,t,b){"use strict";function n(e,t){if(null==e)return{};var b,n,c={},l=Object.keys(e);for(n=0;n<l.length;n++)b=l[n],t.indexOf(b)>=0||(c[b]=e[b]);return c}b.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-browser-chrome-index-mdx-001af4e44492397759b3.js.map