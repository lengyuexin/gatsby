{"version":3,"sources":["webpack:///./src/templates/blog-index.js"],"names":["BlogIndexTemplate","render","siteTitle","get","this","langKey","props","pageContext","posts","data","allMdx","edges","location","title","style","display","alignItems","flexDirection","map","node","key","fontFamily","fontSize","rhythm","marginBottom","boxShadow","to","rel","formatPostDate","frontmatter","date","dangerouslySetInnerHTML","__html","spoiler","React","Component","pageQuery"],"mappings":"+OAWMA,E,gLACJC,OAAA,WACE,IAAMC,EAAYC,IAAIC,KAAM,sCACtBC,EAAUD,KAAKE,MAAMC,YAAYF,QAEjCG,EAAQJ,KAAKE,MAAMG,KAAKC,OAAOC,MAErC,OACE,kBAAC,IAAD,CAAQC,SAAUR,KAAKE,MAAMM,SAAUC,MAAOX,GAC5C,yBACEY,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,cAAe,WAGjB,8BACGT,EAAMU,KAAI,YAAe,IAAZC,EAAW,EAAXA,KACNN,EACJV,IAAIgB,EAAM,sBAAwBhB,IAAIgB,EAAM,eAE9C,OACE,6BAASC,IAAKjB,IAAIgB,EAAM,gBACtB,gCACE,wBACEL,MAAO,CACLO,WAAY,yBACZC,SAAUC,YAAO,GACjBC,aAAcD,YAAO,OAGvB,kBAAC,OAAD,CACET,MAAO,CAAEW,UAAW,QACpBC,GAAIvB,IAAIgB,EAAM,eACdQ,IAAI,YAEHd,IAGL,+BACGe,YAAeT,EAAKU,YAAYC,KAAMzB,KAG3C,uBACE0B,wBAAyB,CACvBC,OAAQb,EAAKU,YAAYI,mB,GA7CfC,IAAMC,WA0DvBnC,YAER,IAAMoC,EAAS","file":"component---src-templates-blog-index-js-8b106168f9a894c0f1c5.js","sourcesContent":["import { Link, graphql } from \"gatsby\"\nimport { formatPostDate } from \"../utils/helpers\"\nimport Layout from \"../components/Layout\"\nimport React from \"react\"\nimport get from \"lodash/get\"\nimport { rhythm } from \"../utils/typography\"\n\n/**\n * 首页模板\n * 有不同语言的首页\n */\nclass BlogIndexTemplate extends React.Component {\n  render() {\n    const siteTitle = get(this, \"props.data.site.siteMetadata.title\")\n    const langKey = this.props.pageContext.langKey\n\n    const posts = this.props.data.allMdx.edges\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n          }}\n        >\n          <main>\n            {posts.map(({ node }) => {\n              const title =\n                get(node, \"frontmatter.title\") || get(node, \"fields.slug\")\n\n              return (\n                <article key={get(node, \"fields.slug\")}>\n                  <header>\n                    <h3\n                      style={{\n                        fontFamily: \"Montserrat, sans-serif\",\n                        fontSize: rhythm(1),\n                        marginBottom: rhythm(1 / 4),\n                      }}\n                    >\n                      <Link\n                        style={{ boxShadow: \"none\" }}\n                        to={get(node, \"fields.slug\")}\n                        rel=\"bookmark\"\n                      >\n                        {title}\n                      </Link>\n                    </h3>\n                    <small>\n                      {formatPostDate(node.frontmatter.date, langKey)}\n                    </small>\n                  </header>\n                  <p\n                    dangerouslySetInnerHTML={{\n                      __html: node.frontmatter.spoiler,\n                    }}\n                  />\n                </article>\n              )\n            })}\n          </main>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogIndexTemplate\n\nexport const pageQuery = graphql`\n  query($langKey: String!) {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    allMdx(\n      filter: { fields: { langKey: { eq: $langKey } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n          }\n          fields {\n            slug\n            langKey\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}